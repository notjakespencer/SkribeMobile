<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SkribeMaui.EntryDetailsPage"
             BackgroundColor="Transparent"
             Shell.NavBarIsVisible="False">

  <!-- Full-screen overlay: dimmed backdrop (BoxView) + centered card (Border) -->
  <Grid>
    <!-- Backdrop: tapping closes the modal -->
    <BoxView Color="#80000000">
      <BoxView.GestureRecognizers>
        <TapGestureRecognizer Tapped="OnBackgroundTapped" />
      </BoxView.GestureRecognizers>
    </BoxView>

    <!-- Centered card -->
    <VerticalStackLayout HorizontalOptions="Center" VerticalOptions="Center" Padding="0">
      <Border Background="{DynamicResource CardBrush}"
              Stroke="Transparent"
              Padding="16"
              HorizontalOptions="Center"
              WidthRequest="360"
              AutomationProperties.IsInAccessibleTree="True"
              SemanticProperties.Description="Entry details card">
        <Border.StrokeShape>
          <RoundRectangle CornerRadius="20" />
        </Border.StrokeShape>

        <ScrollView>
          <VerticalStackLayout Spacing="12">
            <Label x:Name="DateLabel"
                   FontAttributes="Bold"
                   FontSize="20"
				   Padding="12"
				   TextColor="{DynamicResource TextBrush}"
                   HorizontalTextAlignment="Start" />

            <!-- Mood: capsule (rounded-rectangle) with overlayed label -->
            <Grid HorizontalOptions="Start" VerticalOptions="Center" WidthRequest="160" HeightRequest="48">
              <Border x:Name="MoodBorder"
                      WidthRequest="160"
                      HeightRequest="60"
                      Stroke="Transparent"
                      Padding="0"
                      Background="Transparent"
                      HorizontalOptions="Center"
                      VerticalOptions="Center">
                <Border.StrokeShape>
                  <!-- CornerRadius â‰ˆ half of HeightRequest -> capsule -->
                  <RoundRectangle CornerRadius="30" />
                </Border.StrokeShape>

                <Label x:Name="MoodLabel"
                       FontSize="30"
                       HorizontalTextAlignment="Center"
                       VerticalTextAlignment="Center"
                       HorizontalOptions="Start"
                       VerticalOptions="Center"
                       Padding="8" />
              </Border>
            </Grid>

            <Border Background="{DynamicResource BackgroundBrush}"
                    Padding="12"
					Margin="0, 12, 0, 0">
				
              <Border.StrokeShape>
                <RoundRectangle CornerRadius="12" />
              </Border.StrokeShape>
				
              <VerticalStackLayout>
                <Label Text="Prompt" 
					   FontAttributes="Bold" 
					   TextColor="#8B5CF6"/>
				  
                <Label x:Name="PromptLabel" 
					   LineBreakMode="WordWrap" />
				  
              </VerticalStackLayout>
            </Border>

            <Border Background="{DynamicResource BackgroundBrush}"
                    Padding="12">
              <Border.StrokeShape>
                <RoundRectangle CornerRadius="12" />
              </Border.StrokeShape>
				
              <VerticalStackLayout>
                <Label Text="Response" 
					   FontAttributes="Bold" 
					   TextColor="#8B5CF6" />
				  
                <Label x:Name="ResponseLabel" 
					   LineBreakMode="WordWrap" />
				  
              </VerticalStackLayout>
            </Border>

			  <Border Background="{DynamicResource BackgroundBrush}"
                    Padding="12">
				  <Border.StrokeShape>
					  <RoundRectangle CornerRadius="12" />
				  </Border.StrokeShape>

				  <VerticalStackLayout>
					  <Label Text="Completed in"
							 FontAttributes="Bold"
							 TextColor="#8B5CF6" />

					  <Label x:Name="ElapsedTime"
							 LineBreakMode="WordWrap" />

				  </VerticalStackLayout>
			  </Border>

            <HorizontalStackLayout HorizontalOptions="Center">
              <Button Text="Close"
                      Clicked="OnCloseClicked"
                      WidthRequest="140" />
				
            </HorizontalStackLayout>
          </VerticalStackLayout>
        </ScrollView>
      </Border>
    </VerticalStackLayout>
  </Grid>
</ContentPage>